**普通更新，直接删除install目录直接覆盖安装即可，注意修改config.php的相关配置文件**

#### Ver. 2.3(2020.05.09)

1、[更新]修复因为文件写入权限问题导致二维码识别失败的情况

#### Ver. 2.2(2020.05.04)
**重要更新**

1、[BUG]修复核心框架组件导致的客户端无法访问的问题
2、[BUG]修复添加应用失败的问题

#### Ver. 2.1(2020.05.04)
**重要更新**

本次更新会新增数据表pay_shop,修改数据表pay_tmp_price timeout字段的类型为bigint

本次修改了签名方式，原有签名方法已经失效，请谨慎更新，或查看文档进行修改。

1、更新核心框架到新版 。

2、[BUG]修复二维码获取不正确的问题。

3、[BUG]解决后台二维码识别偶尔出错的问题。

4、[BUG]修复后台上传多个二维码无效的问题。

5、[BUG]修复key导致的安全性问题。

6、[BUG]修复回调接口中存在参数时导致回调失败的问题。

7、[新增]内置商城，只有发送邮件和支付的功能，已经默认集成。

8、[新增]添加二维码logo功能，避免别人随意调用二维码生成API(其实也没什么用，就是默认中间加个logo) 。

9、[新增]对异步回调接口增加`{payId}`与`{orderId}`变量，用于对接第三方网站（某些网站支持的回调方案真的很奇葩）。

10、[新增]添加新的参数explain,用于商品说明（仅支付宝uid支付方式有效）。

11、[优化]后台显示二维码部分做了优化，支持点击放大查看，对二维码批量上传添加进度条。

10、[优化]修改安装检测，支持检查伪静态安装。

11、[优化]减少不必要的类库，降低体积。


#### Ver. 2.0(2020.03.16)
**紧急更新**

1、[BUG]修复价格递增不生效的问题


#### Ver. 2.0(2020.03.06)
**紧急更新**

1、[BUG]修复web类默认参数未设置的问题

#### Ver. 1.9(2020.03.06)
**普通更新**

1、添加在线更新功能，登录后台可以自动和github对比，提醒及时更新

2、[BUG]修复邮件测试发送没有错误日志的问题，感谢@eshao2018提醒

3、[建议]支付宝转账接口可能已经失效（原先是安卓有效，IOS失效），建议暂时将支付宝UID那个那个选项先空着


#### Ver. 1.8 (2020.03.04)
**紧急更新**

1、由于本人的疏忽，忘记将新版本的sp核心框架加入git仓库管理...请立即更新

#### Ver. 1.7 (2020.03.04)
**普通更新**

1、[BUG]修复邮件系统保存失败的bug,感谢@kikij11提醒


#### Ver. 1.6 (2020.03.03)
**普通更新**

1、[BUG]修复上传二维码失败的问题,感谢@eshao2018提醒

2、更新安装程序的bug

3、更新README的时间错误

#### Ver. 1.5 (2020.02.29)
**普通更新**

1、修改几处调试问题

2、更新安装教程

#### Ver. 1.4 (2020.02.29)
**普通更新**

1、美化后台UI

2、添加邮件功能

3、[BUG]修复下一页无效的问题（一直存在，一直忘了修）

4、[BUG]修复微信付款码调用失败的问题

5、[BUG]修复支付成功无法及时跳转的问题

6、更新demo（集成到了程序中）地址：`/protected/controller/demo` 核心库位于 `/protected/lib/pay` 将`/protected/controller/index/Maincontroller.php`中的`$admin=false;`改成`$admin=true;`即可使用demo 原先位于程序外部的demo依然保留不受影响

7、增加掉线提醒

8、增加日志功能，目录位于`/protected/logs`，按照日期存储，如果对接的时候出现了问题，可以到这里翻一翻日志查看问题

9、完善一些其他的小问题


#### Ver. 1.3 (2020.01.18)
**普通更新**

1、[BUG]修复了0元购买漏洞

2、[BUG]修复恶意刷取低价购买的漏洞

3、完善订单生成api

####  Ver. 1.2（2020.01.16）
**本次更新请直接删除原站点进行覆盖更新，需要手动修改/protected/config.php的配置文件**

1、添加登录验证码，提高安全性

2、[BUG]修改登录密码的加密传输方式，修复上个版本部分时间段无法登录的情况

**本次需要重置密码方可登录，可以重置账号为admin密码123**
**在pay_settings表中字段UserPassword修改成以下数据即可，账号也需要改成admin**
`9974954aff3028fd7a810a5d4ebf9e58da4e6aa3bb02e424bcc7c8f64fef5749`

3、对原有版本添加命名空间的支持

4、不再对低版本PHP提供支持，仅支持PHP7.0+

5、[BUG]修复了由于函数大小写导致的补单无反应bug



####  Ver. 1.1（2019.09.29）

**本次更新对数据库结构进行了修改，您可能需要重新安装数据库或者根据mysql.sql文件自行修改数据库结构**

1、修改后台登录部分密码传输与密码加密存储方案（防止中间人）

2、修改sign的最终计算方案（MD5->sha256）

3、优化了后端数据库，删除精简不必要的字段、规范后端模块命名与编写、增加大量注释便于修改

4、自定义参数部分默认进行url解码与unicode解码，方便查看

5、对demo部分封装新的类库，方便直接调用

6、删掉没必要的api接口的教程

7、对支付结果增加校验，便于了解支付结果

####  Ver. 1.0（2019.06.23）

1、原作者的php版本后台安全性有点脆弱，主要是是后台登录校验部分

2、而且采用了一个非常臃肿的thinkphp框架，上传速率慢

3、给原作者增加安装程序，用以安装该项目

4、对于其支付宝支付部分稍作修改增强用户体验

5、修改回调方式

6、采用全新修改的sp框架重新编写，速度更快

7、更换sign计算方式