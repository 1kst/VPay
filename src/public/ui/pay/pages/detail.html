<style>
    .layui-form-pane .layui-form-label {
        color: #F2F2F2;
        background-color: #2F4056;
    }
    .layui-input, .layui-textarea, .layui-select{
        color: #F2F2F2;
        background-color: #2F4056;
    }
    .layui-form-select dl{
        color: #F2F2F2;
        background-color: #2F4056;
    }
</style>
<div style="margin: 0 auto;max-width: 600px;">
<div class="layui-row layui-col-space30"  >
    <div  style="color: white;margin: 0 auto;text-align: center"><h1>订单信息</h1></div>

    <div class=" layui-col-md6 layui-col-xs12 layui-col-sm6">
        <img id="img" src="https://autotest.ankio.net/ui/img/7eca689f0d3389d9dea66ae112e5cfd7.png" style="width: 100%;height: 150px; border-radius: 10px;">
    </div>
    <div class="layui-col-md6 layui-col-xs12 layui-col-sm6 layui-col-space12" style="color: #F2F2F2">
        <div ><h2><span id="title" style="color: #01AAED"></span></h2></div>
        <div ><h3>金额：<span id="price" style="color: #FF5722"></span></h3></div>
        <div ><h3>简介：<br><span id="description" style="color: #009688"></span></h3></div>
        </div>
    </div>

<form class="layui-form layui-form-pane"  lay-filter="form" action="" >
    <input type="text" name="id" style="display: none">
    <div id="form"></div>
    <div class="layui-form-item">
        <button class="layui-btn" lay-submit="" lay-filter="save">支付宝支付</button>
    </div>
</form>
</div>
<script>
    layui.use(['jquery','form', 'request', 'route'], function () {
//encodeURI()
        //  JSON.stringify()
        let $ = layui.jquery;
        let route = layui.route;
        let request = layui.request;
        let form = layui.form;
        // let tab = layui.tab;

        function loadData() {
            request.call('/shop/main/get', "POST", {id:route.param("id")}, "#tabContent", "数据加载中...").done(function (data) {
             //   console.log(data)
                $("#img").attr("src",data.data.img)
                $("#title").html(" "+data.data.title)
                $("#price").html("￥"+data.data.price)
                $("#description").html(data.data.description.replace("\n","<br>"));
                $("#form").html(data.data.params)
                form.render();
            }).fail(function (error) {
                route.go("404")
                //$("#demoCardList1").html("<div style='text-align: center;color: #F2F2F2'>" + error.msg + "</div>")
            });
        }

        loadData();

        form.on("submit(save)",function (data) {
            data.field["id"]=route.param("id");
            request.call('/shop/main/Create', "POST", data.field, "#tabContent", "订单创建中...").done(function (data) {
                console.log(data)

            }).fail(function (error) {
                console.log(error)
                //$("#demoCardList1").html("<div style='text-align: center;color: #F2F2F2'>" + error.msg + "</div>")
            });
            return false;
        })

    })
</script>